<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Why Singapore?</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --sg-red: #ef233c;
            --sg-red-700: #b91c1c;
        }

        .sg-card {
            background: #fff;
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid #fee2e2;
            box-shadow: 0 5px 12px rgba(0, 0, 0, 0.08);
        }

        .caption a {
            color: #1d4ed8;
            text-decoration: underline;
        }

        html {
            scroll-behavior: smooth;
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-900 font-sans">

    <!-- Navigation -->
    <nav id="nav" class="bg-[var(--sg-red)] text-white p-4 shadow-md"></nav>

    <!-- Hero Section -->
    <section id="hero" class="bg-white py-12 shadow-md"></section>

    <main id="main" class="max-w-6xl mx-auto p-6 space-y-8"></main>

    <!-- Footer -->
    <footer id="footer" class="bg-gray-100 text-center p-6 text-sm text-gray-600">
        @Digital Singapore Project
    </footer>

    <!-- JSON Fetch and Render Script -->
    <script>
        fetch('data.json')
            .then(response => response.json())
            .then(data => {

                // Navigation
                const nav = document.getElementById('nav');
                nav.innerHTML = `
      <div class="max-w-6xl mx-auto flex justify-between items-center">
        <h1 class="font-bold text-xl">${data.nav.title}</h1>
        <ul class="flex gap-6">
          ${data.nav.links.map(link => `
            <li><a href="${link.url}" class="${link.active ? 'underline' : 'hover:underline'}">${link.name}</a></li>
          `).join('')}
        </ul>
      </div>
    `;

                // Hero
                const hero = document.getElementById('hero');
                hero.innerHTML = `
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="text-3xl font-bold text-[var(--sg-red)] mb-4">${data.hero.title}</h2>
        <p class="text-gray-700 text-lg">${data.hero.subtitle}</p>
      </div>
    `;

                // Main sections
                const main = document.getElementById('main');
                main.innerHTML = data.sections.map(section => `
      <section class="bg-white p-6 rounded-xl shadow-md" id="${section.id}">
        <h3 class="text-2xl font-semibold text-[var(--sg-red)] mb-4">${section.title}</h3>
        ${section.paragraphs.map(p => {
                    let citationsHTML = '';

                    // Single citation
                    if (p.citation) {
                        citationsHTML = `<cite class="text-xs text-gray-500"> Source: <a href="${p.citation.url}" target="_blank" class="underline">${p.citation.name}</a></cite>`;
                    }

                    // Multiple citations
                    if (p.citations) {
                        citationsHTML = `<cite class="text-xs text-gray-500"> Sources: ${p.citations.map(c => `<a href="${c.url}" target="_blank" class="underline">${c.name}</a>`).join(', ')}</cite>`;
                    }

                    return `<p class="text-gray-700 mb-3">${p.text} ${citationsHTML}</p>`;
                }).join('')}
        ${section.lists ? `<ul class="list-disc list-inside space-y-4 text-gray-700">${section.lists.map(item => `<li>${item}</li>`).join('')}</ul>` : ''}
      </section>
    `).join('');

                // Footer - Simplified to just show the text without sources
                const footer = document.getElementById('footer');
                footer.innerHTML = `${data.footer.text}`;

            })
            .catch(err => console.error('Error loading JSON:', err));
    </script>
</body>

</html>